
<ion-header>

  <!-- <ion-navbar>
    <button color='primary-light' ion-button item-start (click)="popView()" large>
      <ion-icon name="arrow-round-back" ></ion-icon>
    </button>
    <ion-title>{{ 'MEDICAL' | translate }}</ion-title>
  </ion-navbar> -->
  <ion-navbar color="primary-dark">
    <ion-item color='primary-dark' no-lines>
      <button ion-button outline item-start (click)="popView()" large>
          <ion-icon name="arrow-round-back" ></ion-icon>
      </button>
      <ion-label>{{ 'MEDICAL' | translate }}</ion-label>
    </ion-item>
  </ion-navbar>

</ion-header>


<ion-content>
  <form (ngSubmit)="post_n_update()">
    <ion-item-group>
      <ion-buttons padding-horizontal>
        <ion-label>{{'CHRONIC_CONDITION' | translate }}</ion-label>
          <button ion-button small [outline]="evaluationMedical.chronic_condition_hypertension == 'Yes' ? false : true" color="primary-darkest" (click)="set('Yes','chronic_condition_hypertension')">
            {{ 'HYPERTENSION' | translate }}
          </button>
          <button ion-button right small [outline]="evaluationMedical.chronic_condition_diabetes == 'Yes' ? false : true" color="primary-darkest" (click)="set('Yes','chronic_condition_diabetes')">
            {{ 'DIABETES' | translate }}
          </button>
          <button ion-button right small [outline]="evaluationMedical.chronic_condition_other == 'Yes' ? false : true" color="primary-darkest" (click)="set('Yes','chronic_condition_other')">
            {{ 'OTHER' | translate }}
          </button>
          <button ion-button right small color="primary-dark" (click)="clear(['chronic_condition_hypertension','chronic_condition_diabetes','chronic_condition_other'])">
            {{ 'RESET' | translate }}
          </button>
      </ion-buttons>

      <!--Seen a Doctor-->
      <ion-buttons padding-horizontal>
        <ion-label>{{'SEENADOCTOR' | translate }}</ion-label>
        <button ion-button small [outline]="evaluationMedical.seen_doctor == 'Yes' ? false : true" color="primary-darkest" (click)="set('Yes','seen_doctor')">
            {{ 'YES' | translate }}
          </button>
          <button ion-button right small [outline]="evaluationMedical.seen_doctor == 'No' ? false : true" color="primary-darkest" (click)="set('No','seen_doctor')">
            {{ 'NO' | translate }}
        </button>
      </ion-buttons>
    </ion-item-group>

    <ion-item-group>
        <!--Notes on What they Said -->
      <ion-item>
          <ion-label floating>{{ 'NOTES_GENERAL' | translate }}</ion-label>
          <ion-textarea rows="3" type="text" [(ngModel)]="evaluationMedical.received_treatment_notes" name='received_treatment_notes'></ion-textarea>
      </ion-item> 

      <!--Status-->
      <ion-item padding-horizontal>
        <ion-label>{{'STATUS_OF_HEALTH' | translate }}</ion-label>
        <ion-select interface ='popover' [(ngModel)]="evaluationMedical.received_treatment_description" name = 'received_treatment_description' placeholder="{{ 'SELECT_ONE' | translate }}">
          <ion-option text-wrap value="receiving_treatment_no_support_required">{{ 'RECEIVING_TREATMENT_NO_SUPPORT_NEEDED' | translate }}</ion-option>
          <ion-option text-wrap value="receiving_treatment_support_required">{{ 'RECEIVING_TREATMENT_SUPPORT_NEEDED' | translate }}</ion-option>
          <ion-option text-wrap value="awaiting_treatment_support_required">{{ 'WAITING_TREATMENT_SUPPORT_NEEDED' | translate }}</ion-option>
          <ion-option text-wrap value="no_treatment_support_required">{{ 'NO_TREATMENT_SUPPORT_NEEDED' | translate }}</ion-option>
          <ion-option text-wrap value="other">{{ 'OTHER' | translate }}</ion-option>
        </ion-select>
      </ion-item>
    </ion-item-group>

    <ion-item-group>
      <ion-item padding-horizontal>
        <ion-label>{{'PART_OF_BODY' | translate }}</ion-label>
        <ion-select interface ='popover' [(ngModel)]="evaluationMedical.part_of_body" name="part_of_body" placeholder="{{ 'SELECT_ONE' | translate }}">
          <ion-option text-wrap value="bones_or_joints">{{ 'BONES_OR_JOINTS' | translate }}</ion-option>
          <ion-option text-wrap value="eyes">{{ 'EYES' | translate }}</ion-option>
          <ion-option text-wrap value="ear_nose_throat">{{ 'EAR_NOSE_THROAT' | translate }}</ion-option>
          <ion-option text-wrap value="skin">{{ 'SKIN' | translate }}</ion-option>
          <ion-option text-wrap value="head_mental_issue">{{ 'HEAD_MENTAL_ISSUE' | translate }}</ion-option>
          <ion-option text-wrap value="stomach_intestines">{{ 'STOMACH_INTESTINES' | translate }}</ion-option>
          <ion-option text-wrap value="bladder_urinary">{{ 'BLADDER_URINARYTRACT' | translate }}</ion-option>
          <ion-option text-wrap value="reproductive_organs">{{ 'REPRODUCTIVE_ORGANS' | translate }}</ion-option>
          <ion-option text-wrap value="nutrition">{{ 'NUTRITION_ISSUE' | translate }}</ion-option>
          <ion-option text-wrap value="">---</ion-option>
        </ion-select>
      </ion-item>

      <!--Part of Body Description-->
      <ion-item>
          <ion-label floating>{{'PART_OF_BODY' | translate }} {{ 'DESCRIPTION' | translate }}</ion-label>
          <ion-textarea rows="3" type="text" [(ngModel)]="evaluationMedical.part_of_body_description" name="part_of_body_description"></ion-textarea>
      </ion-item> 

      <!--DURATION-->
      <ion-buttons padding-horizontal>
        <ion-label>{{'DURATION' | translate }}</ion-label>
        <button ion-button right small [outline]="evaluationMedical.duration == 'within_last_month' ? false : true" color="primary-darkest" (click)="set('within_last_month','duration')">
          {{ 'LAST_MONTH' | translate }}
        </button>
        <button ion-button right small [outline]="evaluationMedical.duration == 'within_last_year' ? false : true" color="primary-darkest" (click)="set('within_last_year','duration')">
          {{ 'LAST_YEAR' | translate }}
        </button>
        <button ion-button right small [outline]="evaluationMedical.duration == 'within_last_5_years' ? false : true" color="primary-darkest" (click)="set('within_last_5_years','duration')">
          {{ 'LAST_5_YEARS' | translate }}
        </button>
        <button ion-button right small [outline]="evaluationMedical.duration == 'after_5_years' ? false : true" color="primary-darkest" (click)="set('after_5_years','duration')">
          {{ 'AFTER_5_YEARS' | translate }}
        </button>
      </ion-buttons>

      <!--Trauma-->
      <ion-buttons padding-horizontal>
        <ion-label>{{'PROBLEM' | translate }} {{'SUDDENNESS' | translate }}</ion-label>
        <button ion-button right small [outline]="evaluationMedical.trauma_induced == 'suddenly_due_to_trauma' ? false : true" color="primary-darkest" (click)="set('suddenly_due_to_trauma','trauma_induced')">
          {{ 'SUDDEN_DUE_TO_TRAUMA' | translate }}
        </button>
        <button ion-button right small [outline]="evaluationMedical.trauma_induced == 'suddenly_but_not_due_to_trauma' ? false : true" color="primary-darkest" (click)="set('suddenly_but_not_due_to_trauma','trauma_induced')">
          {{ 'SUDDEN_NOT_DUE_TO_TRAUMA' | translate }}
        </button>
        <button ion-button right small [outline]="evaluationMedical.trauma_induced == 'gradually' ? false : true" color="primary-darkest" (click)="set('gradually','trauma_induced')">
          {{ 'GRADUALLY' | translate }}
        </button>
      </ion-buttons>

      <!--Progression of Condition-->
      <ion-buttons padding-horizontal>
        <ion-label>{{'PROGRESSION_OF_CONDITION' | translate }}</ion-label>
        <button ion-button right small [outline]="evaluationMedical.condition_progression == 'improve' ? false : true" color="primary-darkest" (click)="set('improve','condition_progression')">
          {{ 'IMPROVE' | translate }}
        </button>
        <button ion-button right small [outline]="evaluationMedical.condition_progression == 'worsen' ? false : true" color="primary-darkest" (click)="set('worsen','condition_progression')">
          {{ 'WORSEN' | translate }}
        </button>
        <button ion-button right small [outline]="evaluationMedical.condition_progression == 'constant' ? false : true" color="primary-darkest" (click)="set('constant','condition_progression')">
          {{ 'CONSTANT' | translate }}
        </button>
      </ion-buttons>
    </ion-item-group>

    <ion-item-group>
      <!--Notes-->
        <ion-item>
            <ion-label floating>{{ 'NOTES_GENERAL' | translate }}</ion-label>
            <ion-textarea rows="3" type="text" [(ngModel)]="evaluationMedical.notes" name="notes"></ion-textarea>
        </ion-item> 

        <!--General Health Recommendation-->
        <ion-buttons padding-horizontal>
          <ion-label>{{'GENERAL_HEALTH_RECOMMENDATION' | translate }}</ion-label>
          <button ion-button small [outline]="evaluationMedical.AssessmentandEvaluation == 'Yes' ? false : true" color="primary-darkest" (click)="set('Yes','AssessmentandEvaluation')">
            {{ 'YES' | translate }}
          </button>
          <button ion-button right small [outline]="evaluationMedical.AssessmentandEvaluation == 'No' ? false : true" color="primary-darkest" (click)="set('No','AssessmentandEvaluation')">
            {{ 'NO' | translate }}
          </button>
        </ion-buttons>

        <!--Surgical Recommendation-->
        <ion-buttons padding-horizontal>
          <ion-label>{{'SURGICAL_NEED_RECOMMENDATION' | translate }}</ion-label>
          <button ion-button small [outline]="evaluationMedical.AssessmentandEvaluation_Surgical == 'Yes' ? false : true" color="primary-darkest" (click)="set('Yes','AssessmentandEvaluation_Surgical')">
            {{ 'YES' | translate }}
          </button>
          <button ion-button right small [outline]="evaluationMedical.AssessmentandEvaluation_Surgical == 'No' ? false : true" color="primary-darkest" (click)="set('No','AssessmentandEvaluation_Surgical')">
            {{ 'NO' | translate }}
          </button>
        </ion-buttons>

        <!--Surgical Recommendation Guess-->
        <ion-item *ngIf="evaluationMedical.AssessmentandEvaluation_Surgical == 'Yes'">
          <ion-label floating>{{ 'YOUR' | translate }} {{ 'GUESS' | translate }}</ion-label>
          <ion-textarea rows="3" type="text" [(ngModel)]="evaluationMedical.AssessmentandEvaluation_Surgical_Guess" name="AssessmentandEvaluation_Surgical_Guess"></ion-textarea>
        </ion-item>

        <!--Immediate Follow UP-->
        <ion-buttons padding-horizontal>
          <ion-label>{{'IMMEDIATE_FOLLOWUP_REQUIRED' | translate }}</ion-label>
          <button ion-button small [outline]="evaluationMedical.immediate_follow_up == 'Yes' ? false : true" color="primary-darkest" (click)="set('Yes','immediate_follow_up')">
            {{ 'YES' | translate }}
          </button>
          <button ion-button right small [outline]="evaluationMedical.immediate_follow_up == 'No' ? false : true" color="primary-darkest" (click)="set('No','immediate_follow_up')">
            {{ 'NO' | translate }}
          </button>
        </ion-buttons>

        <!--Plan of Action-->
        <ion-item>
          <ion-label floating>{{ 'PLAN_GENERAL' | translate }}</ion-label>
          <ion-textarea rows="3" type="text" [(ngModel)]="evaluationMedical.planOfAction" name="planOfAction"></ion-textarea>
        </ion-item>
    </ion-item-group>

    <ion-item type="submit">
      <button ion-button icon-left full block large color="primary-dark" >
        <ion-icon name="checkmark-circle"></ion-icon>
        {{'UPDATE' | translate }}
      </button>
    </ion-item>
  </form>
</ion-content>
