<!--
  Generated template for the ConsumerMedicalEvalPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <!-- <ion-navbar color="primary" no-border-bottom>
    <button color='primary-light' ion-button item-start (click)="popView()" large>
      <ion-icon name="arrow-round-back" ></ion-icon>
    </button>
    <ion-title>{{ 'PATIENTDEMOGRAPHICS' | translate }}</ion-title>
  </ion-navbar> -->
  <ion-navbar color="primary-dark">
    <ion-item color='primary-dark' no-lines>
      <button ion-button outline item-start (click)="popView()" large>
          <ion-icon name="arrow-round-back" ></ion-icon>
      </button>
      <ion-label>{{ 'PATIENTDEMOGRAPHICS' | translate }}</ion-label>
    </ion-item>
  </ion-navbar>

</ion-header>


<ion-content padding class="content">
  <div class='card'>
    <!--ion-item>
      <img [src]='patientID.picture'>
    </ion-item-->
    <form (ngSubmit)="post_n_update()">
        <ion-item>
            <!--<p text-center>{{'PRESS' | translate }}</p>
            <button type="button" ion-button text-wrap color="primary-light" round block large (click)='takePhoto()'>
                <ion-icon name="camera"></ion-icon>
            </button>-->
            <img [src]="patientImage" *ngIf="patientImage" />
          </ion-item>
      <ion-item>
        <ion-label floating>{{'FIRSTNAME' | translate }}</ion-label>
        <ion-input type="text" [(ngModel)]="patientID.fname" name="fname"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label floating>{{'LASTNAME' | translate }}</ion-label>
        <ion-input type="text" [(ngModel)]="patientID.lname" name="lname"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label floating>{{'NICKNAME' | translate }}</ion-label>
        <ion-input type="text" [(ngModel)]="patientID.nickname" name="nickname"></ion-input>
      </ion-item>

      <ion-grid padding='5%'>
        <ion-label stacked>{{'DOB' | translate }}</ion-label>
        <ion-row>
          <ion-col col-3>
              <ion-label stacked>{{'DAY' | translate }}</ion-label>
              <ion-input class="border" type="tel" [(ngModel)]="date_of_birth.day" name="day" placeholder="DD" maxlength='2' ></ion-input>
          </ion-col>
          <ion-col col-3>
              <ion-label stacked>{{'MONTH' | translate }}</ion-label>
              <ion-input class="border" type="tel" [(ngModel)]="date_of_birth.month" name="month" placeholder="MM" maxlength='2' ></ion-input>
          </ion-col>
          <ion-col col-3>
              <ion-label stacked>{{'YEAR' | translate }}</ion-label>
              <ion-input class="border" type="tel" [(ngModel)]="date_of_birth.year" name="year" placeholder="YYYY" maxlength='4' ></ion-input>
          </ion-col>
        </ion-row>
      </ion-grid>

      <ion-item>
        <ion-label>{{'SEX' | translate }}</ion-label>
        <ion-select [(ngModel)]="patientID.sex" name="sex" interface ='popover'>
            <ion-option value="Male"> {{'MALE' | translate }} </ion-option>
            <ion-option value="Female"> {{'FEMALE' | translate }} </ion-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-label floating>{{'TELNUM' | translate }}</ion-label>
        <ion-input type="tel" [(ngModel)]="patientID.telephoneNumber" name="telephoneNumber"></ion-input>
      </ion-item>

      <ion-buttons padding-horizontal>
        <ion-label>{{'MARRIAGESTATUS' | translate }}</ion-label>
        <button ion-button right small [outline]="patientID.marriageStatus == 'single' ? false : true" color="primary-darkest" (click)="set('single','marriageStatus')">
          {{ 'SINGLE' | translate }}
        </button>
        <button ion-button right small [outline]="patientID.marriageStatus == 'married' ? false : true" color="primary-darkest" (click)="set('married','marriageStatus')">
          {{ 'MARRIED' | translate }}
        </button>
        <button ion-button right small [outline]="patientID.marriageStatus == 'free_union' ? false : true" color="primary-darkest" (click)="set('free_union','marriageStatus')">
          {{ 'FREEUNION' | translate }}
        </button>
        <button ion-button right small [outline]="patientID.marriageStatus == 'widow' ? false : true" color="primary-darkest" (click)="set('widow','marriageStatus')">
          {{ 'WIDOW' | translate }}
        </button>
      </ion-buttons>
    
      <ion-item>
        <ion-label floating>{{'OCCUPATION' | translate }}</ion-label>
        <ion-input type="text" [(ngModel)]="patientID.occupation" name="occupation"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label>{{'EDUCATION' | translate }}</ion-label>
        <ion-select text-wrap [(ngModel)]="patientID.educationLevel" name="educationLevel" interface ='popover'>
            <ion-option text-wrap value="lessThanprimary">{{'LESSTHANPRIMARY' | translate }}</ion-option>
            <ion-option text-wrap value="primary"> {{'PRIMARY' | translate }}</ion-option>
            <ion-option text-wrap value="someHighSchool">{{'SOMEHIGHSCHOOL' | translate }}</ion-option>
            <ion-option text-wrap value="highschool">{{'HIGHSCHOOL' | translate }}</ion-option>
            <ion-option text-wrap value="someCollege">{{'SOMECOLLEGE' | translate }}</ion-option>
            <ion-option text-wrap value="college"> {{'COLLEGE' | translate }}</ion-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-label>{{'COMMUNITY' | translate }}</ion-label>
        <ion-input type="text" [(ngModel)]="patientID.communityname" name="communityname"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label>{{'CITY' | translate }}</ion-label>
        <ion-input type="text" [(ngModel)]="patientID.city" name="city"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label>{{'PROVINCE' | translate }}</ion-label>
        <ion-input type="text" [(ngModel)]="patientID.province" name="province"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label floating>{{'INSURANCENUM' | translate }}</ion-label>
        <ion-input type="number" [(ngModel)]="patientID.insuranceNumber" name="insuranceNumber"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label floating>{{'INSURANCEPROV' | translate }}</ion-label>
        <ion-input type="text" [(ngModel)]="patientID.insuranceProvider" name="insuranceProvider"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label floating>{{'CLINICPROV' | translate }}</ion-label>
        <ion-input type="text" [(ngModel)]="patientID.clinicProvider" name="clinicProvider"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label floating>{{'LICENSENUM' | translate }}</ion-label>
        <ion-input type="number" [(ngModel)]="patientID.cedulaNumber" name="cedulaNumber"></ion-input>
      </ion-item> 

      <ion-item>
        <p text-center>{{'PRESS' | translate }}</p>
        
        <button ion-button text-wrap color="primary-light" round block large (click)='recordCoordinates()'>
          <ion-spinner *ngIf="patientID.latitude == null"></ion-spinner>
          {{patientID.latitude}} {{patientID.longitude}}
        </button>
      </ion-item>

      
      <ion-item type="submit">
        <button ion-button icon-left full block large color="primary-dark" >
          <ion-icon name="checkmark-circle"></ion-icon>
          {{'UPDATE' | translate }}
        </button>
      </ion-item>
        
    </form>
  </div>

</ion-content>
